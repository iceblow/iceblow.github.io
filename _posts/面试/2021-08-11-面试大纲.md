---
layout: post
title: 面试大纲
categories: 面试
description: 
keywords: 
---

本文梳理了Java的面试大纲，包括基础、多线程、数据库、JVM、框架、架构、中间件、设计模式等，同时在每个模块下汇总了在面试过程中常问的知识点，这些都是要重点掌握的。

由于面试内容较多，每次会更新部分，后面会持续更新！

### Java基础

#### String、StringBuilder、StringBuffer区别

都可以创建字符串，并拼接，String是不可变对象，+操作其实是创建了一个新的对象，线程安全；StringBuilder和buffer是可变对象，区别是builder非线程安全，buffer线程安全，对append方法加锁。

[点击查看详细分析](https://iceblow.github.io/2021/08/11/%E9%9D%A2%E8%AF%95%E5%A4%A7%E7%BA%B2/)

#### ArrayList和LinkList区别

Arraylist是数组，指定index查询效率高，O(1)，新增和删除会涉及数组的copy，效率低；扩容1.5倍，初始容量10,连续的内存空间；

LinkList是双向链表，随机查询需要遍历，效率低，O(n)；新增和删除，调整Node的前后指针，效率高，O(1)，内存空间不连续

#### HashMap原理

jdk1.8是数组+单向链表+红黑树，基于hash表，默认容量16，扩容2倍，加载因子0.75；

entry数组（hash/key/value/next），获取key的hash，确定在数组中的位置，在发生hash碰撞时（相同的hash）单向链表，在链表的长度为8时，由于效率较低，改为红黑树

##### 扩容与缩容

// TODO



#### ConcurrentHashMap原理

// TODO 

#### 接口和抽象类区别

##### 相同点：

都是抽象的，都可以有实现方法（jdk1.8+）（继承或实现类可以不用实现，也可以重写方法），都可以被继承。

##### 不同：

一个类只能继承一个抽象类（is-a），但可以实现多个接口（has-a)，抽象类的属性可以私有，接口的属性只能是public且static且final，全局静态不可变属性。

接口方法和属性都是public，而抽象类可以私有；

接口是可以多继承，但是抽象类只能单一继承；

抽象类可以实现接口；

##### 使用场景：

如果需要多继承，使用接口；

模板方法设计模式是抽象类的典型应用；

抽象类主要是代码的复用，表示is-a关系；

接口主要是一种协议约定，上游不用关心底层实现。

[具体分析见原文](https://iceblow.github.io//2021/08/13/%E6%8A%BD%E8%B1%A1%E7%B1%BB-%E6%8E%A5%E5%8F%A3%E5%8C%BA%E5%88%AB/)

### 多线程

#### 线程生命周期

新建（new）-就绪（runable)-运行（running）-blocked（阻塞）-死亡（dead）

#### 线程池

##### 原理

// TODO

##### 参数配置

(int corePoolSize,int maximumPoolSize,long keepAliveTime,TimeUnit unit,BlockingQueue<Runnable> workQueue,ThreadFactory threadFactory,RejectedExecutionHandler handler);

#### 线程同步

// TODO

#### 锁

##### 悲观锁和乐观锁

悲观锁适合写操作多,乐观锁适合读操作多的场景

##### 自旋锁和适应性自旋锁

自旋锁（循环等待，然后不断的判断锁是否能够被成功获取，直到获取到锁才会退出循环，默认10次）和适应性自旋锁（自旋次数不固定）。

##### synchronized锁的状态：无锁、偏向锁、轻量级锁、重量级锁

无锁：CAS

偏向锁：在无多线程竞争，锁总是由同一线程多次获得

轻量级锁：CAS操作和自旋来解决加锁

重量级锁:轻量级锁升级，再来一个线程获取锁

##### 公平锁和非公平锁

公平锁是指多个线程按照申请锁的顺序来获取锁；

非公平锁：非公平锁是多个线程加锁时直接尝试获取锁，获取不到才会到等待队列的队尾等待，优点是可以减少唤起线程的开销，整体的吞吐效率高，缺点是处于等待队列中的线程可能会饿死，

##### 可重入锁

可重入锁又名递归锁，是指在同一个线程在外层方法获取锁的时候，再进入该线程的内层方法会自动获取锁

###### 原理

// TODO 

##### 独享锁和共享锁

独享锁:互斥锁，该锁一次只能被一个线程所持有，synchronized和JUC中Lock的实现类就是

共享锁是指该锁可被多个线程所持有。如果线程T对数据A加上共享锁后，则其他线程只能对A再加共享锁，不能加排它锁

##### Synchronized和ReentrantLock区别

// TODO



### 框架

#### Spring

##### 注解

##### AOP

#### SpringBoot

##### 自动装配

#### SpringCloud

##### 组件

网关

负载均衡

注册中心

熔断

配置中心



#### Dubbo



### JVM

#### 性能优化

#### GC算法



### 数据库

#### mysql

#### redis

#### 数据库中间件

##### sharding-jdbc



### 设计模式



### 架构